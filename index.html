
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ù†Ø¸Ø§Ù… Ø¬Ø±Ø¯ Ø§Ù„Ø±ØµÙŠØ¯ ÙˆØ§Ù„Ø´Ø±Ø§Ø¦Ø­</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;600&display=swap');
    * { box-sizing: border-box; }
    body {
      font-family: 'Cairo', sans-serif;
      background: linear-gradient(to bottom left, #e8f0ff, #ffffff);
      margin: 0;
      padding: 20px;
      color: #333;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: flex-start;
    }
    .container {
      max-width: 1000px;
      width: 100%;
      background: #fff;
      padding: 30px;
      border-radius: 20px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
      overflow-x: auto;
    }
    h2, h3 {
      text-align: center;
      color: #2c3e50;
      margin-bottom: 15px;
    }
    input, button {
      padding: 12px;
      margin: 8px 0;
      width: 100%;
      border: 1px solid #ccc;
      border-radius: 10px;
      font-size: 16px;
      transition: border-color 0.3s ease;
    }
    input:focus {
      border-color: #3498db;
      outline: none;
    }
    button {
      background: #3498db;
      color: white;
      font-weight: bold;
      border: none;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    button:hover {
      background: #2c80b4;
    }
    .section {
      margin-bottom: 40px;
      padding-bottom: 20px;
      border-bottom: 1px dashed #ddd;
    }
    .stats {
      background: #f9f9f9;
      padding: 20px;
      border-radius: 12px;
      border: 1px solid #ddd;
    }
    .alert, .success {
      padding: 12px;
      border-radius: 10px;
      text-align: center;
      margin-top: 10px;
      font-weight: bold;
      display: none;
    }
    .alert {
      background-color: #ffebeb;
      color: #c0392b;
    }
    .success {
      background-color: #e0f8e0;
      color: #27ae60;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
      min-width: 300px;
    }
    th, td {
      padding: 12px;
      border: 1px solid #ccc;
      text-align: center;
    }
    th {
      background: #3498db;
      color: white;
      white-space: nowrap;
    }
    tr:nth-child(even) {
      background: #f2f2f2;
    }
    label {
      display: block;
      margin: 10px 0 5px;
      color: #2c3e50;
      cursor: pointer;
      user-select: none;
    }
    @media (max-width: 768px) {
      body { padding: 15px; }
      .container { padding: 20px; }
      input, button { font-size: 14px; padding: 10px; }
      h2, h3 { font-size: 22px; }
      table th, table td { padding: 8px; font-size: 14px; }
    }
    @media (max-width: 480px) {
      .container { padding: 15px 10px; }
      h2, h3 { font-size: 20px; }
      input, button { font-size: 13px; padding: 8px; }
      label { font-size: 14px; }
      table { font-size: 12px; }
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>ğŸ“Š Ù†Ø¸Ø§Ù… Ø¬Ø±Ø¯ Ø§Ù„Ø±ØµÙŠØ¯ ÙˆØ§Ù„Ø´Ø±Ø§Ø¦Ø­</h2>

    <div class="section">
      <h3>â• Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ù…Ø®Ø²ÙˆÙ†</h3>
      <input type="number" id="addBalance" placeholder="Ø£Ø¶Ù ÙƒÙ…ÙŠØ© Ø±ØµÙŠØ¯" />
      <button onclick="addToStock('balance')">Ø¥Ø¶Ø§ÙØ© Ø±ØµÙŠØ¯</button>

      <input type="number" id="addSims" placeholder="Ø£Ø¶Ù Ø¹Ø¯Ø¯ Ø§Ù„Ø´Ø±Ø§Ø¦Ø­" />
      <button onclick="addToStock('sims')">Ø¥Ø¶Ø§ÙØ© Ø´Ø±Ø§Ø¦Ø­</button>
      <div id="successMessage" class="success"></div>
    </div>

    <div class="section">
      <h3>ğŸ’° Ø¹Ù…Ù„ÙŠØ© Ø¨ÙŠØ¹</h3>
      <input type="text" id="opId" list="opSuggestions" placeholder="Ù†ÙˆØ¹ Ø§Ù„Ø´Ø±Ø§Ø¡" />
      <datalist id="opSuggestions">
        <option value="ØªØ¨Ø¯ÙŠÙ„">
        <option value="Ù…Ø¨Ø§Ø¹">
        <option value="Ø±ØµÙŠØ¯">
      </datalist>

      <input type="number" id="sellBalance" list="balanceSuggestions" placeholder="Ø±ØµÙŠØ¯ Ù…Ø¨Ø§Ø¹ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)" />
      <datalist id="balanceSuggestions">
        <option value="65938">
        <option value="47938">
        <option value="51938">
        <option value="21093">
        <option value="6232">
        <option value="14381">
        <option value="3068">
        <option value="25000">
        <option value="50000">
        <option value="57526">
        <option value="31639">
        <option value="2013">
        <option value="10546">
        <option value="11505">   
        <option value="12464">
        <option value="13039">   
        <option value="19175">
        <option value="2013"> 
        <option value="23969">
        <option value="28763"> 
          <option value="31639">
        <option value="36912"> 
        <option value="43144">
        <option value="57526">  
      </datalist>

      <label><input type="checkbox" id="withSim" /> Ø¨ÙŠØ¹ Ø´Ø±ÙŠØ­Ø© Ù…Ø¹ Ø±ØµÙŠØ¯</label>
      <input type="number" id="simPrice" placeholder="Ø³Ø¹Ø± Ø§Ù„Ø´Ø±ÙŠØ­Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)" />
      <input type="number" id="balancePrice" placeholder="Ø³Ø¹Ø± Ø§Ù„Ø±ØµÙŠØ¯" />
      <button onclick="makeSale()">ØªÙ†ÙÙŠØ° Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø¨ÙŠØ¹</button>
    </div>

    <div class="section stats">
      <h3>ğŸ“ˆ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</h3>
      <p>Ø§Ù„Ø±ØµÙŠØ¯ ÙÙŠ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†: <strong><span id="balanceStock">0</span></strong></p>
      <p>Ø§Ù„Ø´Ø±Ø§Ø¦Ø­ ÙÙŠ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†: <strong><span id="simStock">0</span></strong></p>
      <p>Ø¹Ø¯Ø¯ Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù…Ø¨Ø§Ø¹: <strong><span id="soldBalance">0</span></strong></p>
      <p>Ø¹Ø¯Ø¯ Ø§Ù„Ø´Ø±Ø§Ø¦Ø­ Ø§Ù„Ù…Ø¨Ø§Ø¹Ø©: <strong><span id="soldSims">0</span></strong></p>
      <p>Ø±ØµÙŠØ¯ Ø§Ù„Ø´Ø±Ø§Ø¦Ø­ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…: <strong><span id="fakeBalanceView">0</span></strong></p>
      <p>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø¹Ø¯Ø¯ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª: <strong><span id="totalOps">0</span></strong></p>
      <div id="lowStockAlert" class="alert">âš ï¸ ØªÙ†Ø¨ÙŠÙ‡: Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ù…Ù†Ø®ÙØ¶ØŒ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ²ÙˆÙŠØ¯!</div>
    </div>

    <div class="section">
      <h3>ğŸ“œ Ø³Ø¬Ù„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª</h3>
      <table>
        <thead>
          <tr><th>Ø±Ù‚Ù… Ø§Ù„Ø¹Ù…Ù„ÙŠØ©</th><th>Ù†ÙˆØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©</th><th>Ø±ØµÙŠØ¯</th><th>Ø´Ø±ÙŠØ­Ø©</th><th>Ø§Ù„Ø³Ø¹Ø±</th><th>ØªØ§Ø±ÙŠØ®</th></tr>
        </thead>
        <tbody id="logTable"></tbody>
      </table>
    </div>

    <div class="section" style="text-align:center;">
      <button style="background:#e74c3c;" onclick="resetAll()">ğŸ§¹ ØªØµÙÙŠØ± Ø§Ù„Ù…Ø®Ø²ÙˆÙ† ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</button>
    </div>

    <div class="section" style="text-align:center;">
      <button onclick="window.open('https://www.google.com/search?q=calculator', '_blank')">ğŸ§® ÙØªØ­ Ø§Ù„Ø¢Ù„Ø© Ø§Ù„Ø­Ø§Ø³Ø¨Ø©</button>
    </div>
  </div>

  <script>
    let stock = JSON.parse(localStorage.getItem('stock')) || { balance: 0, sims: 0 };
    let stats = JSON.parse(localStorage.getItem('stats')) || { soldBalance: 0, soldSims: 0, ops: [] };
    let fakeBalanceFromSims = Number(localStorage.getItem('fakeBalance')) || 0;

    function updateUI() {
      document.getElementById('balanceStock').innerText = stock.balance;
      document.getElementById('simStock').innerText = stock.sims;
      document.getElementById('soldBalance').innerText = stats.soldBalance;
      document.getElementById('soldSims').innerText = stats.soldSims;
      document.getElementById('totalOps').innerText = stats.ops.length;
      document.getElementById('fakeBalanceView').innerText = fakeBalanceFromSims;

      let logTable = document.getElementById('logTable');
      logTable.innerHTML = stats.ops.map(op => {
        let simIcon = op.sim ? 'ğŸªª' : 'ğŸª™';
        let priceText = op.sim ? (op.simPrice ? op.simPrice + ' ØªØ±ÙƒÙŠ' : '-') : (op.balancePrice ? op.balancePrice + ' ØªØ±ÙƒÙŠ' : '-');

        let rowColor = '';
        switch(op.type) {
          case 'Ù…Ø¨Ø§Ø¹': rowColor = 'background-color:#ffe6e6;'; break;
          case 'ØªØ¨Ø¯ÙŠÙ„': rowColor = 'background-color:#e6f7ff;'; break;
          case 'Ø±ØµÙŠØ¯': rowColor = 'background-color:#e9ffe6;'; break;
          default: rowColor = '';
        }

        return `<tr style="${rowColor}">
                  <td>${op.id}</td>
                  <td>${op.type}</td>
                  <td>${op.balance > 0 ? op.balance : '-'}</td>
                  <td>${simIcon}</td>
                  <td>${priceText}</td>
                  <td>${op.date}</td>
                </tr>`;
      }).join('');

      const alertBox = document.getElementById('lowStockAlert');
      alertBox.style.display = (stock.balance < 5 || stock.sims < 5) ? 'block' : 'none';
    }

    function showSuccessMessage(text) {
      const msg = document.getElementById('successMessage');
      msg.textContent = text;
      msg.style.display = 'block';
      setTimeout(() => msg.style.display = 'none', 3000);
    }

    function addToStock(type) {
      let value = Number(document.getElementById(type === 'balance' ? 'addBalance' : 'addSims').value);
      if (value > 0) {
        stock[type === 'balance' ? 'balance' : 'sims'] += value;
        saveData();
        updateUI();
        showSuccessMessage('âœ… ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© ' + (type === 'balance' ? 'Ø§Ù„Ø±ØµÙŠØ¯' : 'Ø§Ù„Ø´Ø±Ø§Ø¦Ø­') + ' Ø¨Ù†Ø¬Ø§Ø­');
        document.getElementById(type === 'balance' ? 'addBalance' : 'addSims').value = '';
      } else {
        alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ù‚ÙŠÙ…Ø© ØµØ­ÙŠØ­Ø©.');
      }
    }

    function makeSale() {
      const type = document.getElementById('opId').value.trim();
      const balance = Number(document.getElementById('sellBalance').value);
      const withSim = document.getElementById('withSim').checked;
      const simPrice = Number(document.getElementById('simPrice').value);
      const balancePrice = Number(document.getElementById('balancePrice').value);

      if (!type) return alert('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ù†ÙˆØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©.');
      if (balance <= 0 && !withSim) return alert('Ø­Ø¯Ø¯ Ø±ØµÙŠØ¯ Ø£Ùˆ Ø´Ø±ÙŠØ­Ø© Ù„Ù„Ø¨ÙŠØ¹.');
      if (balance > stock.balance) return alert('Ø§Ù„Ø±ØµÙŠØ¯ ØºÙŠØ± ÙƒØ§Ù.');
      if (withSim && stock.sims < 1) return alert('Ù„Ø§ ØªÙˆØ¬Ø¯ Ø´Ø±Ø§Ø¦Ø­ ÙƒØ§ÙÙŠØ©.');

      if (balance > 0) {
        stock.balance -= balance;
        stats.soldBalance += balance;
      }

      if (withSim) {
        stock.sims -= 1;
        stats.soldSims += 1;
        fakeBalanceFromSims += 47938;
        localStorage.setItem('fakeBalance', fakeBalanceFromSims);
      }

      const opNumber = stats.ops.length + 1;
      stats.ops.push({
        id: opNumber,
        type,
        balance,
        sim: withSim,
        simPrice: withSim ? simPrice : null,
        balancePrice: !withSim ? balancePrice : null,
        date: new Date().toLocaleString()
      });

      saveData();
      updateUI();

      document.getElementById('opId').value = '';
      document.getElementById('sellBalance').value = '';
      document.getElementById('withSim').checked = false;
      document.getElementById('simPrice').value = '';
      document.getElementById('balancePrice').value = '';

      showSuccessMessage('âœ… ØªÙ…Øª Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø¨ÙŠØ¹ Ø¨Ù†Ø¬Ø§Ø­');
    }

    function resetAll() {
      if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† ØªØµÙÙŠØ± Ø§Ù„Ù…Ø®Ø²ÙˆÙ† ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ÙˆØ³Ø¬Ù„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§ØªØŸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù† Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡.')) {
        stock = { balance: 0, sims: 0 };
        stats = { soldBalance: 0, soldSims: 0, ops: [] };
        fakeBalanceFromSims = 0;
        localStorage.removeItem('fakeBalance');
        saveData();
        updateUI();
        showSuccessMessage('ğŸ§¹ ØªÙ… ØªØµÙÙŠØ± Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­');
      }
    }

    function saveData() {
      localStorage.setItem('stock', JSON.stringify(stock));
      localStorage.setItem('stats', JSON.stringify(stats));
    }

    updateUI();
  </script>
</body>
</html>
